!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.rmanifest=t()}(this,function(){function e(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,f=[],a="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)"*"===(n=s[0])?(f.push("wild"),a+="/(.*)"):":"===n?(r=s.indexOf("?",1),i=s.indexOf(".",1),f.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:f,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}return function(t,n,r){var s,i=r&&t["*"]||[],f=i.headers||[],a=i.files||i;for(s in t)if("*"!=s&&e(s).pattern.test(n)){i=t[s],a=a.concat(i.files||i),f=f.concat(i.headers||[]);break}return{files:a,headers:f}};});