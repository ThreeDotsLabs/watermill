<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="641" height="542" viewBox="-0.5 -0.5 641 542"><style><![CDATA[.CN{pointer-events:none}.CO{fill:none}.CP{fill:#666}.CQ{font-size:12px}.CR{fill-opacity:.5}.CS{stroke:#666}.CT{text-anchor:middle}.CU{font-family:Helvetica}.CV{stroke-miterlimit:10}.CW{stroke-width:2}.CX{fill:#f5f5f5}.CY{stroke:#000}.CZ{fill:#1a1a1a}]]></style><path d="M0 160h640v320H0z" fill-opacity=".3" fill="#9cf" class="CN"/><g class="CS CN"><g class="CV CW"><path d="M200.33 59.67v31.76" class="CO"/><path d="M200.33 97.43l-4-8 4 2 4-2z" class="CP"/></g><path d="M140 0h120v60H140z" class="CX"/></g><text x="25" y="12" fill="#333" transform="translate(174.5 23.5)" class="CQ CT CU">Publisher</text><g class="CS CN"><g class="CV CW"><path d="M200.33 139.67v31.76" class="CO"/><path d="M200.33 177.43l-4-8 4 2 4-2z" class="CP"/></g><path d="M80 100h240v40H80z" class="CX"/></g><text x="60" y="12" fill="#333" transform="translate(139.5 113.5)" class="CQ CT CU">Queue / Broker / Topic</text><g class="CS CV CW CN"><path d="M170.33 239.67v31.76" class="CO"/><path d="M170.33 277.43l-4-8 4 2 4-2z" class="CP"/></g><path d="M140 180h120v60H140z" fill="#fff" class="CN CY"/><text x="29" y="12" transform="translate(170.5 203.5)" class="CQ CT CU">Subscriber</text><g class="CS CV CW CN"><path d="M230.33 279.67V247.9" class="CO"/><path d="M230.33 241.9l4 8-4-2-4 2z" class="CP"/><path d="M260.33 294.67h31.77" class="CO"/><path d="M298.1 294.67l-8 4 2-4-2-4z" class="CP"/><path d="M200.33 339.67v31.76" class="CO"/><path d="M200.33 377.43l-4-8 4 2 4-2z" class="CP"/></g><path d="M140 280h120v60H140z" fill="#fff" class="CN CY"/><text x="18" y="12" transform="translate(181.5 303.5)" class="CQ CT CU">Router</text><g class="CS CV CW CN"><path d="M420.33 294.67h31.77" class="CO"/><path d="M458.1 294.67l-8 4 2-4-2-4z" class="CP"/><path d="M300.33 324.67h-31.76" class="CO"/><path d="M262.57 324.67l8-4-2 4 2 4z" class="CP"/></g><path d="M300 280h120v60H300z" fill="#fff" class="CN CY"/><text x="34" y="12" transform="translate(325.5 303.5)" class="CQ CT CU">Middlewares</text><use xlink:href="#B" class="CN CR CZ"/><g class="CS CN"><g class="CV CW"><path d="M460.33 324.67h-31.76" class="CO"/><path d="M422.57 324.67l8-4-2 4 2 4z" class="CP"/></g><path d="M460 280h120v60H460z" class="CX"/></g><text x="21" y="12" fill="#333" transform="translate(498.5 303.5)" class="CQ CT CU">Handler</text><g class="CZ CN CR"><use xlink:href="#B" x="123" y="30"/><use xlink:href="#B" x="283" y="30"/><use xlink:href="#B" x="119" y="80"/><use xlink:href="#B" x="125" y="85"/><use xlink:href="#B" x="279" y="80"/><use xlink:href="#B" x="285" y="85"/></g><g class="CS CV CW CN"><path d="M200.33 439.67v51.76" class="CO"/><path d="M200.33 497.43l-4-8 4 2 4-2z" class="CP"/></g><path d="M140 380h120v60H140z" fill="#fff" class="CN CY"/><text x="25" y="12" transform="translate(174.5 403.5)" class="CQ CT CU">Publisher</text><g class="CZ CN CR"><use xlink:href="#C"/><use xlink:href="#C" x="6" y="5"/></g><path d="M80 500h240v40H80z" class="CN CS CX"/><g class="CT CU"><g fill="#333"><text x="60" y="12" transform="translate(139.5 513.5)" class="CQ">Queue / Broker / Topic</text><text x="37" y="19" font-size="18" transform="translate(11.5 174.5)">Watermill</text></g><text x="35" y="12" fill="#6B6B6B" font-weight="bold" transform="translate(231.5 253.5)" class="CQ">Ack or Nack</text></g><defs ><path id="B" d="M150.04 250.7a.67.67 0 0 1 .63-.71h12.6c.38.01.68.3.68.65v8.63c.04.35-.22.67-.6.72h-12.72c-.38-.05-.64-.37-.6-.72zm1.55.6l5.3 3.86 5.33-3.86zm4.82 5.16l-4.96-3.6v5.8l11.12.03v-5.92l-5.2 3.7c-.3.2-.7.18-.96-.03z"/><path id="C" d="M226.54 446.14c-.03-.35.25-.67.63-.7h12.6c.38.01.68.3.68.65v8.63c.04.35-.22.67-.6.72h-12.72c-.38-.05-.64-.37-.6-.72zm1.55.62l5.3 3.86 5.33-3.86zm4.82 5.16l-4.96-3.6v5.8l11.12.02v-5.9l-5.2 3.7c-.3.2-.7.2-.96-.02z"/></defs></svg>